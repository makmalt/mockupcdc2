@{
    ViewData["Title"] = "Kunjungan Klinik";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script src="https://cdn.datatables.net/2.0.2/js/dataTables.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.2/moment.min.js"></script>
<script src="https://cdn.datatables.net/datetime/1.5.2/js/dataTables.dateTime.min.js"></script>

<body>
    <div class="layout-wrapper layout-content-navbar">
        <div class="layout-container">
            <!-- Menu -->
            @await Html.PartialAsync("_Sidebar")
            <!-- / Menu -->
            <!-- Layout container -->
            <div class="layout-page">
                <!-- Navbar -->
                @await Html.PartialAsync("_Navbar")

                <!-- / Navbar -->
                <!-- Content wrapper -->
                <div class="content-wrapper">
                    <!-- Content -->
                    <div class="container-xxl flex-grow-1 container-p-y">
                        <div class="row">
                            <div class="mt-3">
                                <div class="row align-items-center">
                                    <div class="col">
                                        <h5 class="m-0 display-6"><span class="fw-lighter"></span> Kunjungan Klinik</h5>
                                    </div>
                                    <div class="col-auto">
                                        <a type="button" asp-controller="ClinicVisit" asp-action="Create" class="btn btn-primary" type="button">+ Create</a>
                                    </div>
                                    <div class="col-auto">
                                        <button class="btn btn-warning" type="button">Export</button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-12 my-4 order-0">
                                <div class="card">

                                    <div class="container mt-3">
                                        <table border="0" cellspacing="5" cellpadding="5">
                                            <tbody>
                                                <tr>
                                                    <td>Minimum date:</td>
                                                    <td><input type="text" class="dt-datetime" id="min" name="min"></td>
                                                </tr>
                                                <tr>
                                                    <td>Maximum date:</td>
                                                    <td><input type="text" class="dt-datetime" id="max" name="max"></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                    <div class="d-flex align-items-end row">
                                        <div class="col-sm-12">
                                            <div class="card-body">
                                                <div class="table-responsive text-nowrap">
                                                    <table class="table table-striped" id="myTable">
                                                        <thead>
                                                            <tr style="border-bottom:hidden">
                                                                <th style="text-align:center">Action</th>
                                                                <th>Transaction No</th>
                                                                <th>Visit Date</th>
                                                                <th>Visit Type</th>
                                                                <th>NIK</th>
                                                                <th>Name</th>
                                                                <th>Department</th>
                                                                <th>Status</th>
                                                                <th>Age</th>
                                                                <th>Medicine Allergy</th>
                                                                <th>Subjective</th>
                                                                <th>Objective</th>
                                                                <th>Diagnose</th>
                                                                <th>Medical Treatment</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody style="text-align:center">
                                                            <tr>
                                                                <td>
                                                                    <a href="#" type="button" class="me-1 btn btn-danger btn-sm" style="font-size:smaller" data-bs-toggle="modal" data-bs-target="#suratSakitModal">Surat<br />Sakit</a>
                                                                    <button type="button" class="btn btn-success btn-sm" style="font-size:smaller" data-bs-toggle="modal" data-bs-target="#suratSehatModal">Surat<br />Sehat</button>
                                                                    <a href="#" class="ms-1">Edit</a>
                                                                </td>
                                                                <td>xyz-002</td>
                                                                <td>2024-03-30</td>
                                                                <td>Sakit</td>
                                                                <td>01234567</td>
                                                                <td>Akmal</td>
                                                                <td>IT</td>
                                                                <td>Sehat</td>
                                                                <td>20</td>
                                                                <td>Tidakada</td>
                                                                <td>-</td>
                                                                <td>-</td>
                                                                <td>-</td>
                                                                <td>-</td>
                                                                <!--Modal surat sakit -->
                                                                <div class="modal fade" id="suratSakitModal" tabindex="-1" role="dialog" aria-labelledby="suratSakitModalLabel" aria-hidden="true">
                                                                    <div class="modal-dialog" role="document">
                                                                        <div class="modal-content">
                                                                            <div class="modal-header">
                                                                                <h5 class="modal-title" id="suratSakitModalLabel">Surat Keterangan Sakit</h5>
                                                                            </div>
                                                                            <form>
                                                                                <div class="modal-body">
                                                                                    <div class="row mb-3">
                                                                                        <label class="col-sm-2 col-form-label" for="nikSuratSakit">NIK</label>
                                                                                        <div class="col-sm-10">
                                                                                            <input type="text" class="form-control" id="nikSuratSakit" placeholder="">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="row mb-3">
                                                                                        <label class="col-sm-2 col-form-label" for="namaSuratSakit">Nama</label>
                                                                                        <div class="col-sm-10">
                                                                                            <input type="text" class="form-control" id="namaSuratSakit" placeholder="">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="row mb-3">
                                                                                        <label class="col-sm-2 col-form-label" for="deptSuratSakit">Department</label>
                                                                                        <div class="col-sm-10">
                                                                                            <input type="text" class="form-control" id="deptSuratSakit" placeholder="">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="row mb-3">
                                                                                        <label class="col-sm-2 col-form-label" for="diagnoseSuratSakit">Diagnose</label>
                                                                                        <div class="col-sm-10">
                                                                                            <textarea id="diagnoseSuratSakit" class="form-control" placeholder="Diagnosa" aria-label="" aria-describedby="basic-icon-default-message2"></textarea>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="d-flex justify-content-end">
                                                                                        <button type="button" class="btn btn-secondary me-1" data-bs-dismiss="modal">Cancel</button>
                                                                                        <button type="submit" class="btn btn-success">Generate</button>
                                                                                    </div>
                                                                                </div>
                                                                            </form>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!--Modal surat sehat -->
                                                                <div class="modal fade" id="suratSehatModal" tabindex="-1" role="dialog" aria-labelledby="suratSehatModalLabel" aria-hidden="true">
                                                                    <div class="modal-dialog" role="document">
                                                                        <div class="modal-content">
                                                                            <div class="modal-header">
                                                                                <h5 class="modal-title" id="suratSehatModalLabel">Surat Keterangan Sehat</h5>
                                                                            </div>
                                                                            <form>
                                                                                <div class="modal-body">
                                                                                    <div class="row mb-3">
                                                                                        <label class="col-sm-2 col-form-label" for="nikSuratSehat">NIK</label>
                                                                                        <div class="col-sm-10">
                                                                                            <input type="text" class="form-control" id="nikSuratSehat" placeholder="">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="row mb-3">
                                                                                        <label class="col-sm-2 col-form-label" for="namaSuratSehat">Nama</label>
                                                                                        <div class="col-sm-10">
                                                                                            <input type="text" class="form-control" id="namaSuratSehat" placeholder="">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="row mb-3">
                                                                                        <label class="col-sm-2 col-form-label" for="deptSuratSehat">Department</label>
                                                                                        <div class="col-sm-10">
                                                                                            <input type="text" class="form-control" id="deptSuratSehat" placeholder="">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="row mb-3">
                                                                                        <label class="col-sm-2 col-form-label" for="diagnoseSuratSehat">Remark</label>
                                                                                        <div class="col-sm-10">
                                                                                            <textarea id="diagnoseSuratSehat" class="form-control" placeholder="Remark" aria-label="" aria-describedby="basic-icon-default-message2"></textarea>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="d-flex justify-content-end">
                                                                                        <button type="button" class="btn btn-secondary me-1" data-bs-dismiss="modal">Cancel</button>
                                                                                        <button type="submit" class="btn btn-success">Generate</button>
                                                                                    </div>
                                                                                </div>
                                                                            </form>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <a href="#" type="button" class="me-1 btn btn-danger btn-sm" style="font-size:smaller" data-bs-toggle="modal" data-bs-target="#suratSakitModal">Surat<br />Sakit</a>
                                                                    <button type="button" class="btn btn-success btn-sm" style="font-size:smaller" data-bs-toggle="modal" data-bs-target="#suratSehatModal">Surat<br />Sehat</button>
                                                                    <a class="ms-1">Edit</a>
                                                                </td>
                                                                <td>xyz-001</td>
                                                                <td>2024-02-20</td>
                                                                <td>Pasca Sakit</td>
                                                                <td>02132415</td>
                                                                <td>Aziz</td>
                                                                <td>IT</td>
                                                                <td>Sehat</td>
                                                                <td>-</td>
                                                                <td>-</td>
                                                                <td>-</td>
                                                                <td>-</td>
                                                                <td>FI</td>
                                                                <td>-</td>
                                                                <!--Modal surat sakit -->
                                                                <div class="modal fade" id="suratSakitModal" tabindex="-1" role="dialog" aria-labelledby="suratSakitModalLabel" aria-hidden="true">
                                                                    <div class="modal-dialog" role="document">
                                                                        <div class="modal-content">
                                                                            <div class="modal-header">
                                                                                <h5 class="modal-title" id="suratSakitModalLabel">Surat Keterangan Sakit</h5>
                                                                            </div>
                                                                            <form>
                                                                                <div class="modal-body">
                                                                                    <div class="row mb-3">
                                                                                        <label class="col-sm-2 col-form-label" for="nikSuratSakit">NIK</label>
                                                                                        <div class="col-sm-10">
                                                                                            <input type="text" class="form-control" id="nikSuratSakit" placeholder="">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="row mb-3">
                                                                                        <label class="col-sm-2 col-form-label" for="namaSuratSakit">Nama</label>
                                                                                        <div class="col-sm-10">
                                                                                            <input type="text" class="form-control" id="namaSuratSakit" placeholder="">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="row mb-3">
                                                                                        <label class="col-sm-2 col-form-label" for="deptSuratSakit">Department</label>
                                                                                        <div class="col-sm-10">
                                                                                            <input type="text" class="form-control" id="deptSuratSakit" placeholder="">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="row mb-3">
                                                                                        <label class="col-sm-2 col-form-label" for="diagnoseSuratSakit">Diagnose</label>
                                                                                        <div class="col-sm-10">
                                                                                            <textarea id="diagnoseSuratSakit" class="form-control" placeholder="Diagnosa" aria-label="" aria-describedby="basic-icon-default-message2"></textarea>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="d-flex justify-content-end">
                                                                                        <button type="button" class="btn btn-secondary me-1" data-bs-dismiss="modal">Cancel</button>
                                                                                        <button type="submit" class="btn btn-success">Generate</button>
                                                                                    </div>
                                                                                </div>
                                                                            </form>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!--Modal surat sehat -->
                                                                <div class="modal fade" id="suratSehatModal" tabindex="-1" role="dialog" aria-labelledby="suratSehatModalLabel" aria-hidden="true">
                                                                    <div class="modal-dialog" role="document">
                                                                        <div class="modal-content">
                                                                            <div class="modal-header">
                                                                                <h5 class="modal-title" id="suratSehatModalLabel">Surat Keterangan Sehat</h5>
                                                                            </div>
                                                                            <form>
                                                                                <div class="modal-body">
                                                                                    <div class="row mb-3">
                                                                                        <label class="col-sm-2 col-form-label" for="nikSuratSehat">NIK</label>
                                                                                        <div class="col-sm-10">
                                                                                            <input type="text" class="form-control" id="nikSuratSehat" placeholder="">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="row mb-3">
                                                                                        <label class="col-sm-2 col-form-label" for="namaSuratSehat">Nama</label>
                                                                                        <div class="col-sm-10">
                                                                                            <input type="text" class="form-control" id="namaSuratSehat" placeholder="">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="row mb-3">
                                                                                        <label class="col-sm-2 col-form-label" for="deptSuratSehat">Department</label>
                                                                                        <div class="col-sm-10">
                                                                                            <input type="text" class="form-control" id="deptSuratSehat" placeholder="">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="row mb-3">
                                                                                        <label class="col-sm-2 col-form-label" for="diagnoseSuratSehat">Remark</label>
                                                                                        <div class="col-sm-10">
                                                                                            <textarea id="diagnoseSuratSehat" class="form-control" placeholder="Remark" aria-label="" aria-describedby="basic-icon-default-message2"></textarea>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="d-flex justify-content-end">
                                                                                        <button type="button" class="btn btn-secondary me-1" data-bs-dismiss="modal">Cancel</button>
                                                                                        <button type="submit" class="btn btn-success">Generate</button>
                                                                                    </div>
                                                                                </div>
                                                                            </form>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <a href="#" type="button" class="me-1 btn btn-danger btn-sm" style="font-size:smaller" data-bs-toggle="modal" data-bs-target="#suratSakitModal">Surat<br />Sakit</a>
                                                                    <button type="button" class="btn btn-success btn-sm" style="font-size:smaller" data-bs-toggle="modal" data-bs-target="#suratSehatModal">Surat<br />Sehat</button>
                                                                    <a href="#" class="ms-1">Edit</a>
                                                                </td>
                                                                <td>xyz-002</td>
                                                                <td>2024-03-30</td>
                                                                <td>2024-03-30</td>
                                                                <td>2024-03-30</td>
                                                                <td>2024-03-30</td>
                                                                <td>2024-03-30</td>
                                                                <td>2024-03-30</td>
                                                                <td>2024-03-30</td>
                                                                <td>2024-03-30</td>
                                                                <td>2024-03-30</td>
                                                                <td>2024-03-30</td>
                                                                <td>2024-03-30</td>
                                                                <td>2024-03-30</td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <a href="#" type="button" class="me-1 btn btn-danger btn-sm" style="font-size:smaller" data-bs-toggle="modal" data-bs-target="#suratSakitModal">Surat<br />Sakit</a>
                                                                    <button type="button" class="btn btn-success btn-sm" style="font-size:smaller" data-bs-toggle="modal" data-bs-target="#suratSehatModal">Surat<br />Sehat</button>
                                                                    <a href="#" class="ms-1">Edit</a>
                                                                </td>
                                                                <td>xyz-002</td>
                                                                <td>30-03-2024</td>
                                                                <td>30-03-2024</td>
                                                                <td>30-03-2024</td>
                                                                <td>30-03-2024</td>
                                                                <td>30-03-2024</td>
                                                                <td>30-03-2024</td>
                                                                <td>30-03-2024</td>
                                                                <td>30-03-2024</td>
                                                                <td>30-03-2024</td>
                                                                <td>30-03-2024</td>
                                                                <td>30-03-2024</td>
                                                                <td>30-03-2024</td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <a href="#" type="button" class="me-1 btn btn-danger btn-sm" style="font-size:smaller" data-bs-toggle="modal" data-bs-target="#suratSakitModal">Surat<br />Sakit</a>
                                                                    <button type="button" class="btn btn-success btn-sm" style="font-size:smaller" data-bs-toggle="modal" data-bs-target="#suratSehatModal">Surat<br />Sehat</button>
                                                                    <a href="#" class="ms-1">Edit</a>
                                                                </td>
                                                                <td>xyz-002</td>
                                                                <td>03-30-2024</td>
                                                                <td>03-30-2024</td>
                                                                <td>03-30-2024</td>
                                                                <td>03-30-2024</td>
                                                                <td>03-30-2024</td>
                                                                <td>03-30-2024</td>
                                                                <td>03-30-2024</td>
                                                                <td>03-30-2024</td>
                                                                <td>03-30-2024</td>
                                                                <td>03-30-2024</td>
                                                                <td>03-30-2024</td>
                                                                <td>03-30-2024</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                                <!-- / Content -->
                                                <div class="content-backdrop fade"></div>
                                            </div>
                                            <!-- Content wrapper -->
                                        </div>
                                        <!-- / Layout page -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    @await Html.PartialAsync("_Footer")
                </div>
            </div>
        </div>
    </div>
    <script>
        $(document).ready(function () {
            $('#myTable').DataTable({
                scrollX: true

            });

            let minDate, maxDate;

            // Custom filtering function which will search data in column four between two values
            DataTable.ext.search.push(function (settings, data, dataIndex) {
                let min = minDate.val();
                let max = maxDate.val();
                let date = new Date(data[2]);
                console.log('minDate', min);
                if (
                    (min === null && max === null) ||
                    (min === null && date <= max) ||
                    (min <= date && max === null) ||
                    (min <= date && date <= max)
                ) {
                    return true;
                }
                return false;
            });

            // Create date inputs
            minDate = new DateTime('#min', {
                format: 'MMMM Do YYYY'
            });
            maxDate = new DateTime('#max', {
                format: 'MMMM Do YYYY'
            });

            // Refilter the table
            document.querySelectorAll('#min, #max').forEach((el) => {
                el.addEventListener('change', () => table.draw());
            });
        });
    </script>

</body>